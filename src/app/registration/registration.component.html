<div class="auth-container">
  <div class="auth-card">
    <div class="auth-header">
      <h1>Community Help Portal</h1>
      <p>Connect with your community</p>
    </div>

    <!-- Tab Navigation -->
    <div class="tab-navigation">
      <button 
        class="tab-button" 
        [class.active]="activeTab === 'login'"
        (click)="switchTab('login')" type="button">
        Login
      </button>
      <button 
        class="tab-button" 
        [class.active]="activeTab === 'signup'"
        (click)="switchTab('signup')" type="button">
        Sign Up
      </button>
    </div>

    <!-- Login Form -->
    <form *ngIf="activeTab === 'login'" class="auth-form" (ngSubmit)="onLogin()">
      <div class="form-group">
        <label for="login-email">Email / Phone</label>
        <input 
          type="text" 
          id="login-email" 
          [(ngModel)]="loginData.contact_info"
          name="contact_info"
          placeholder="Enter your email or phone"
          required>
      </div>

      <div class="form-group">
        <label for="login-password">Password</label>
        <input 
          type="password" 
          id="login-password" 
          [(ngModel)]="loginData.password"
          name="password"
          placeholder="Enter your password"
          required>
      </div>

      <div class="form-group">
        <label>Select Your Role</label>
        <div class="role-selection">
          <label class="role-option">
            <input 
              type="radio" 
              name="loginRole" 
              value="Resident"
              [(ngModel)]="loginData.role"
              required>
            <span class="role-label">
              <span class="role-icon">üè†</span>
              <span class="role-text">Resident</span>
            </span>
          </label>
          <label class="role-option">
            <input 
              type="radio" 
              name="loginRole" 
              value="Helper"
              [(ngModel)]="loginData.role"
              required>
            <span class="role-label">
              <span class="role-icon">ü§ù</span>
              <span class="role-text">Helper</span>
            </span>
          </label>
        </div>
      </div>

      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>

      <button type="submit" class="submit-button" [disabled]="isLoading">
        {{ isLoading ? 'Logging in...' : 'Login' }}
      </button>
    </form>

    <!-- Sign Up Form -->
    <form *ngIf="activeTab === 'signup'" class="auth-form" (ngSubmit)="onSignup()">
      <div class="form-group">
        <label for="signup-name">Full Name</label>
        <input 
          type="text" 
          id="signup-name" 
          [(ngModel)]="signupData.name"
          name="name"
          placeholder="Enter your full name"
          required>
      </div>

      <div class="form-group">
        <label for="signup-email">Email / Phone</label>
        <input 
          type="text" 
          id="signup-email" 
          [(ngModel)]="signupData.contact_info"
          name="contact_info"
          placeholder="Enter your email or phone"
          required>
      </div>

      <div class="form-group">
        <label for="signup-location">Location</label>
        <input 
          type="text" 
          id="signup-location" 
          [(ngModel)]="signupData.location"
          name="location"
          placeholder="Enter your location"
          required>
      </div>

      <div class="form-group">
        <label for="signup-password">Password</label>
        <input 
          type="password" 
          id="signup-password" 
          [(ngModel)]="signupData.password"
          name="password"
          placeholder="Create a password"
          required>
      </div>

      <div class="form-group">
        <label for="signup-confirm-password">Confirm Password</label>
        <input 
          type="password" 
          id="signup-confirm-password" 
          [(ngModel)]="signupData.confirmPassword"
          name="confirmPassword"
          placeholder="Confirm your password"
          required>
      </div>

      <div class="form-group">
        <label>Select Your Role</label>
        <div class="role-selection">
          <label class="role-option">
            <input 
              type="radio" 
              name="signupRole" 
              value="Resident"
              [(ngModel)]="signupData.role"
              required>
            <span class="role-label">
              <span class="role-icon">üè†</span>
              <span class="role-text">
                <strong>Resident</strong>
                <small>Post help requests</small>
              </span>
            </span>
          </label>
          <label class="role-option">
            <input 
              type="radio" 
              name="signupRole" 
              value="Helper"
              [(ngModel)]="signupData.role"
              required>
            <span class="role-label">
              <span class="role-icon">ü§ù</span>
              <span class="role-text">
                <strong>Helper</strong>
                <small>Offer assistance</small>
              </span>
            </span>
          </label>
        </div>
      </div>

      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>

      <div *ngIf="successMessage" class="success-message">
        {{ successMessage }}
      </div>

      <button type="submit" class="submit-button" [disabled]="isLoading">
        {{ isLoading ? 'Creating account...' : 'Sign Up' }}
      </button>
    </form>
  </div>
</div>
